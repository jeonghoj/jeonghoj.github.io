---
layout: post
title: "변환생성자"
date: 2017-10-04 17:24
categories: "C++"
comments: true
---
## 변환생성자

``` C++
int i = 'C';
double d = 12;
```

암시적으로 상호 변환 가능

클래스의 객체에서도 저렇게 가능하게 하는것? 변환 생성자

변환 생성자는 반드시 인수를 하나만 받게 정의

그러나 값을 의도하지 않은대로 전달했을 경우 암시적으로 변환하고 오류를 내지 않기 때문에 큰 문제가 생길 우려

따라서 explicit 키워드를 사용하여 암시적인 형 변환에 사용할 수 없게 금지.

## 변환 함수

```C++
operator 변환타입()
{
          본체
}
```

ex)

```C++
operator int()
{
    return hour*3600+min*60+sec;
}

...

Time Now(18,25,12);
int i = Now;
```

변환 타입으로 값을 리턴

변환 생성자와는 달리 안전장치가 없어 선언에 주의가 필요함.

차라리 명시적인 함수를 사용하는걸 추천

## 클래스 간 변환

변환함수, 변환 생성자로 클래스간 변환가능.

둘다 상호 대체성이 있으므로

C1이 변환 함수 변환 생성자로 C2 상호변환가능

C2가 변환 함수 변환 생성자로 C2 상호변환가능

C1이 변환 함수 C2가 변환 함수로 변환

C2가 변환 함수 C1이 변환 함수로 변환

근데 왜 변환 생성자가 필요하느냐?

기본타입으로 변환할땐 기본타입은 수정불가

C1이 변환함수 변환 생성자 int 상호변환
